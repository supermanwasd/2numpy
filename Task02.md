## task02 索引
### 副本与视图
在 Numpy 中，尤其是在做数组运算或数组操作时，返回结果不是数组的副本就是视图，所有赋值运算不会为数组和数组中的任何元素创建副本。
##### numoy.ndarray.copy()
```python
x = np.array([1,2,3,4,5,6,7,8])
y = x
y[0] = -1
print(y)#[-1  2  3  4  5  6  7  8]
print(x)#[-1  2  3  4  5  6  7  8]

x = np.array([1,2,3,4,5,6,7,8])
y = x.copy()
y[0] = -1
print(x)#[1 2 3 4 5 6 7 8]
print(y)#[-1  2  3  4  5  6  7  8]

x = np.array([[11,12,13,14,15],
              [11,12,13,14,15],
              [11,12,13,14,15],
              [11,12,13,14,15],
              [11,12,13,14,15]])
y = x
y[::2,:3:2] = -1#【start:stop:step】
```
### 索引与切片
数组索引机制指的是用方括号（[]）加序号的形式引用单个数组元素，它的用处很多，比如抽取元素，选取数组的几个元素，甚至为其赋一个新值。
#### 整数索引
```python
x = np.array([1,2,3,4,5,6,7,8])
x[1]#2

x = np.array([[11,12,13,14,15],
              [11,12,13,14,15],
              [11,12,13,14,15],
              [11,12,13,14,15],
              [11,12,13,14,15]])
x[1]#array([11, 12, 13, 14, 15])
```
#### 切片索引
[start:stop:step]
```python
x = np.array([1,2,3,4,5,6,7,8])
print(x[0:5:2])#array([1, 3, 5])
print(x[::-1])#[8 7 6 5 4 3 2 1]
x = np.array([[11, 12, 13, 14, 15],
              [16, 17, 18, 19, 20],
              [21, 22, 23, 24, 25],
              [26, 27, 28, 29, 30],
              [31, 32, 33, 34, 35]])
print(x[0:5:2])
```
[[11 12 13 14 15]
 [21 22 23 24 25]
 [31 32 33 34 35]]
```
```
通过对每个以逗号分隔的维度执行单独的切片，你可以对多维数组进行切片。因此，对于二维数组，我们的第一片定义了行的切片，第二片定 义了列的切片。
#### dots 索引
NumPy 允许使用 ... 表示足够多的冒号来构建完整的索引列表。
比如，如果 x 是 5 维数组：
1. x[1,2,...] 等于 x[1,2,:,:,:]
2. x[...,3] 等于 x[:,:,:,:,3]
3. x[4,...,5,:] 等于 x[4,:,:,5,:]

#### 整数数组索引
```python
x = np.array([1,2,3,4,5,6,7,8])
r = [0, 1, 2]
print(x[r])#[1 2 3]
```
numpy. take(a, indices, axis=None, out=None, mode='raise')
```python
x = np.array([1,2,3,4,5,6,7,8])
r = [0, 1, 2]
print(np.take(x, r))#[1 2 3]
```
#### 布尔索引
可以通过一个布尔数组来索引目标数组。
```python
x = np.array([1,2,3,4,5,6,7,8])
y = x > 5
print(x[x > 5])#[6 7 8]

x = np.array([np.nan, 1, 2, np.nan, 3, 4, 5])
y = np.logical_not(np.isnan(x))
print(x[y])#[1. 2. 3. 4. 5.]

```
### 数组迭代
numpy中优雅的for循环apply_along_axis(func1d, axis, arr)
```python
x = np.array([[11, 12, 13, 14, 15],
              [16, 17, 18, 19, 20],
              [21, 22, 23, 24, 25],
              [26, 27, 28, 29, 30],
              [31, 32, 33, 34, 35]])
y = np.apply_along_axis(np.sum, 0, x)
print(y)  # [105 110 115 120 125]，0是列
y = np.apply_along_axis(np.sum, 1, x)
print(y)  # [ 65  90 115 140 165]，1是行
```

### 作业
#### 交换数组arr中的列1和列2。
```python
arr = np.arange(9).reshape(3, 3)
print(arr)
```
[[0 1 2]
 [3 4 5]
 [6 7 8]]
 ```
 arr[:, [1,0, 2]]
```
#### 交换数组arr中的第1行和第2行。
```python
arr[[1, 0, 2], :]
```
#### 反转二维数组arr的行。
```python
arr[[2, 1, 0], :]
```
#### 反转二维数组arr的列。
```python
 arr[[2, 1, 0],: ]
```